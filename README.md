# P2P VPS Server (v2)
[![Build Status](https://travis-ci.org/P2PVPS/p2pvps-server2.svg?branch=master)](https://travis-ci.org/P2PVPS/p2pvps-server2)

[![Coverage Status](https://coveralls.io/repos/github/P2PVPS/p2pvps-server2/badge.svg?branch=master)](https://coveralls.io/github/P2PVPS/p2pvps-server2?branch=master)

This is the second incarnation of the P2P VPS server. Whereas the
[first repository](https://github.com/P2PVPS/p2pvps-server) focused on proof-of-concept,
this second version focuses on
[Test Driven Development (TDD)](https://en.wikipedia.org/wiki/Test-driven_development).
Every API is fully
tested as it is developed. This makes the software much more reliable and makes
the open source project much more manageable.

This new version of the server was based on this
[Koa Boilerplate project](https://github.com/adrianObel/koa2-api-boilerplate).



## Installation
```bash
git clone https://github.com/P2PVPS/p2pvps-server2
npm install
./install-mongo
npm run test
npm start
```

## Structure
```
├── bin
│   └── server.js            # Bootstrapping and entry point
├── config                   # Server configuration settings
│   ├── env                  # Environment specific config
│   │   ├── common.js
│   │   ├── development.js
│   │   ├── production.js
│   │   └── test.js
│   ├── index.js             # Config entrypoint - exports config according to envionrment and commons
│   └── passport.js          # Passportjs config of strategies
├── src                      # Source code
│   ├── modules
│   │   ├── controller.js    # Module-specific controllers
│   │   └── router.js        # Router definitions for module
│   ├── models               # Mongoose models
│   └── middleware           # Custom middleware
│       └── validators       # Validation middleware
└── test                     # Unit tests
```

## Usage
* `npm start` Start server on live mode
* `npm run dev` Start server on dev mode with nodemon
* `npm run docs` Generate API documentation
* `npm test` Run mocha tests

## Documentation
API documentation is written inline and generated by [apidoc](http://apidocjs.com/).

Visit `http://localhost:5000/docs/` to view docs

## License
MIT
